const le={title:"Writing an importer for Saleor Commerce",shortDescription:"If at first you don't succeed...",date:"05/22/2025"},fe=`<p>Coming soon...</p>
`,de=Object.freeze(Object.defineProperty({__proto__:null,attributes:le,html:fe},Symbol.toStringTag,{value:"Module"})),ge={title:"Implementing CaaS (Commerce as a Service)",shortDescription:"Working with commerce isn't trivial...",date:"05/27/2025"},pe=`<p>Working with commerce isn't trivial, even more so in emerging markets like Suriname.
To face this issue head on, I've decided to develop winkri, a frontend for the Saleor ecommerce platform, Meant to be geared towards Suriname.
It is well tested and follows TDD principles.</p>
<h2>Why?</h2>
<p>In my opinion, ecommerce in Suriname is not where it should be, and the ability to quickly get ecommerce up and running (Through CaaS) is a great
differentiator in the landscape in Suriname, especially considering the exorbitant prices charged for web development in Suriname.</p>
<p>Allowing small business owners to sell online, for example is huge.</p>
<h2>Problems, and their solutions.</h2>
<p>The main issue currently faced is that of payment processing, while offerings like
Mope exist, they're not widespread enough to be useful, so for the time being, CoD will have to be the preffered method of payment.</p>
<p>It is also possible to sell &quot;Vouchers&quot; that allow people to top up their online balance, however this is unconventional.</p>
<h2>Pictures</h2>
<p>Winkri is still in active development, so these views are subject to change.</p>
<p><img src="/winkri-commerce-featured_product.png" alt="Part of the landing page">
<img src="/winkri-commerce-products.png" alt="The products page"></p>
`,Ae=Object.freeze(Object.defineProperty({__proto__:null,attributes:ge,html:pe},Symbol.toStringTag,{value:"Module"}));function F(s){return Array.isArray?Array.isArray(s):ne(s)==="[object Array]"}function me(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Ee(s){return s==null?"":me(s)}function D(s){return typeof s=="string"}function te(s){return typeof s=="number"}function Ce(s){return s===!0||s===!1||Be(s)&&ne(s)=="[object Boolean]"}function se(s){return typeof s=="object"}function Be(s){return se(s)&&s!==null}function m(s){return s!=null}function j(s){return!s.trim().length}function ne(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const De="Incorrect 'index' type",Me=s=>`Invalid value for key ${s}`,Fe=s=>`Pattern length exceeds max of ${s}.`,_e=s=>`Missing ${s} property in key`,ye=s=>`Property 'weight' in key '${s}' must be a positive integer`,U=Object.prototype.hasOwnProperty;class Se{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let r=re(n);this._keys.push(r),this._keyMap[r.id]=r,t+=r.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function re(s){let e=null,t=null,n=null,r=1,i=null;if(D(s)||F(s))n=s,e=X(s),t=P(s);else{if(!U.call(s,"name"))throw new Error(_e("name"));const u=s.name;if(n=u,U.call(s,"weight")&&(r=s.weight,r<=0))throw new Error(ye(u));e=X(u),t=P(u),i=s.getFn}return{path:e,id:t,weight:r,src:n,getFn:i}}function X(s){return F(s)?s:s.split(".")}function P(s){return F(s)?s.join("."):s}function xe(s,e){let t=[],n=!1;const r=(i,u,c)=>{if(m(i))if(!u[c])t.push(i);else{let o=u[c];const a=i[o];if(!m(a))return;if(c===u.length-1&&(D(a)||te(a)||Ce(a)))t.push(Ee(a));else if(F(a)){n=!0;for(let h=0,f=a.length;h<f;h+=1)r(a[h],u,c+1)}else u.length&&r(a,u,c+1)}};return r(s,D(e)?e.split("."):e,0),n?t:t[0]}const Ie={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},we={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},be={location:0,threshold:.6,distance:100},ke={useExtendedSearch:!1,getFn:xe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var l={...we,...Ie,...be,...ke};const ve=/[^ ]+/g;function Le(s=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(r){const i=r.match(ve).length;if(t.has(i))return t.get(i);const u=1/Math.pow(i,.5*s),c=parseFloat(Math.round(u*n)/n);return t.set(i,c),c},clear(){t.clear()}}}class V{constructor({getFn:e=l.getFn,fieldNormWeight:t=l.fieldNormWeight}={}){this.norm=Le(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,D(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();D(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!m(e)||j(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((r,i)=>{let u=r.getFn?r.getFn(e):this.getFn(e,r.path);if(m(u)){if(F(u)){let c=[];const o=[{nestedArrIndex:-1,value:u}];for(;o.length;){const{nestedArrIndex:a,value:h}=o.pop();if(m(h))if(D(h)&&!j(h)){let f={v:h,i:a,n:this.norm.get(h)};c.push(f)}else F(h)&&h.forEach((f,d)=>{o.push({nestedArrIndex:d,value:f})})}n.$[i]=c}else if(D(u)&&!j(u)){let c={v:u,n:this.norm.get(u)};n.$[i]=c}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function ie(s,e,{getFn:t=l.getFn,fieldNormWeight:n=l.fieldNormWeight}={}){const r=new V({getFn:t,fieldNormWeight:n});return r.setKeys(s.map(re)),r.setSources(e),r.create(),r}function Oe(s,{getFn:e=l.getFn,fieldNormWeight:t=l.fieldNormWeight}={}){const{keys:n,records:r}=s,i=new V({getFn:e,fieldNormWeight:t});return i.setKeys(n),i.setIndexRecords(r),i}function O(s,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:r=l.distance,ignoreLocation:i=l.ignoreLocation}={}){const u=e/s.length;if(i)return u;const c=Math.abs(n-t);return r?u+c/r:c?1:u}function Re(s=[],e=l.minMatchCharLength){let t=[],n=-1,r=-1,i=0;for(let u=s.length;i<u;i+=1){let c=s[i];c&&n===-1?n=i:!c&&n!==-1&&(r=i-1,r-n+1>=e&&t.push([n,r]),n=-1)}return s[i-1]&&i-n>=e&&t.push([n,i-1]),t}const w=32;function $e(s,e,t,{location:n=l.location,distance:r=l.distance,threshold:i=l.threshold,findAllMatches:u=l.findAllMatches,minMatchCharLength:c=l.minMatchCharLength,includeMatches:o=l.includeMatches,ignoreLocation:a=l.ignoreLocation}={}){if(e.length>w)throw new Error(Fe(w));const h=e.length,f=s.length,d=Math.max(0,Math.min(n,f));let g=i,p=d;const A=c>1||o,C=A?Array(f):[];let _;for(;(_=s.indexOf(e,p))>-1;){let E=O(e,{currentLocation:_,expectedLocation:d,distance:r,ignoreLocation:a});if(g=Math.min(E,g),p=_+h,A){let y=0;for(;y<h;)C[_+y]=1,y+=1}}p=-1;let M=[],b=1,I=h+f;const he=1<<h-1;for(let E=0;E<h;E+=1){let y=0,S=I;for(;y<S;)O(e,{errors:E,currentLocation:d+S,expectedLocation:d,distance:r,ignoreLocation:a})<=g?y=S:I=S,S=Math.floor((I-y)/2+y);I=S;let Q=Math.max(1,d-S+1),N=u?f:Math.min(d+S,f)+h,k=Array(N+2);k[N+1]=(1<<E)-1;for(let B=N;B>=Q;B-=1){let L=B-1,J=t[s.charAt(L)];if(A&&(C[L]=+!!J),k[B]=(k[B+1]<<1|1)&J,E&&(k[B]|=(M[B+1]|M[B])<<1|1|M[B+1]),k[B]&he&&(b=O(e,{errors:E,currentLocation:L,expectedLocation:d,distance:r,ignoreLocation:a}),b<=g)){if(g=b,p=L,p<=d)break;Q=Math.max(1,2*d-p)}}if(O(e,{errors:E+1,currentLocation:d,expectedLocation:d,distance:r,ignoreLocation:a})>g)break;M=k}const T={isMatch:p>=0,score:Math.max(.001,b)};if(A){const E=Re(C,c);E.length?o&&(T.indices=E):T.isMatch=!1}return T}function Te(s){let e={};for(let t=0,n=s.length;t<n;t+=1){const r=s.charAt(t);e[r]=(e[r]||0)|1<<n-t-1}return e}const R=String.prototype.normalize?s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):s=>s;class ue{constructor(e,{location:t=l.location,threshold:n=l.threshold,distance:r=l.distance,includeMatches:i=l.includeMatches,findAllMatches:u=l.findAllMatches,minMatchCharLength:c=l.minMatchCharLength,isCaseSensitive:o=l.isCaseSensitive,ignoreDiacritics:a=l.ignoreDiacritics,ignoreLocation:h=l.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:u,minMatchCharLength:c,isCaseSensitive:o,ignoreDiacritics:a,ignoreLocation:h},e=o?e:e.toLowerCase(),e=a?R(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const f=(g,p)=>{this.chunks.push({pattern:g,alphabet:Te(g),startIndex:p})},d=this.pattern.length;if(d>w){let g=0;const p=d%w,A=d-p;for(;g<A;)f(this.pattern.substr(g,w),g),g+=w;if(p){const C=d-w;f(this.pattern.substr(C),C)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=n?R(e):e,this.pattern===e){let A={isMatch:!0,score:0};return r&&(A.indices=[[0,e.length-1]]),A}const{location:i,distance:u,threshold:c,findAllMatches:o,minMatchCharLength:a,ignoreLocation:h}=this.options;let f=[],d=0,g=!1;this.chunks.forEach(({pattern:A,alphabet:C,startIndex:_})=>{const{isMatch:M,score:b,indices:I}=$e(e,A,C,{location:i+_,distance:u,threshold:c,findAllMatches:o,minMatchCharLength:a,includeMatches:r,ignoreLocation:h});M&&(g=!0),d+=b,M&&I&&(f=[...f,...I])});let p={isMatch:g,score:g?d/this.chunks.length:1};return g&&r&&(p.indices=f),p}}class x{constructor(e){this.pattern=e}static isMultiMatch(e){return Z(e,this.multiRegex)}static isSingleMatch(e){return Z(e,this.singleRegex)}search(){}}function Z(s,e){const t=s.match(e);return t?t[1]:null}class Ne extends x{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class je extends x{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Pe extends x{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class We extends x{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Ke extends x{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class ze extends x{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class ce extends x{constructor(e,{location:t=l.location,threshold:n=l.threshold,distance:r=l.distance,includeMatches:i=l.includeMatches,findAllMatches:u=l.findAllMatches,minMatchCharLength:c=l.minMatchCharLength,isCaseSensitive:o=l.isCaseSensitive,ignoreDiacritics:a=l.ignoreDiacritics,ignoreLocation:h=l.ignoreLocation}={}){super(e),this._bitapSearch=new ue(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:u,minMatchCharLength:c,isCaseSensitive:o,ignoreDiacritics:a,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class oe extends x{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const r=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,r.push([n,t-1]);const u=!!r.length;return{isMatch:u,score:u?0:1,indices:r}}}const W=[Ne,oe,Pe,We,ze,Ke,je,ce],q=W.length,Ge=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,He="|";function Ve(s,e={}){return s.split(He).map(t=>{let n=t.trim().split(Ge).filter(i=>i&&!!i.trim()),r=[];for(let i=0,u=n.length;i<u;i+=1){const c=n[i];let o=!1,a=-1;for(;!o&&++a<q;){const h=W[a];let f=h.isMultiMatch(c);f&&(r.push(new h(f,e)),o=!0)}if(!o)for(a=-1;++a<q;){const h=W[a];let f=h.isSingleMatch(c);if(f){r.push(new h(f,e));break}}}return r})}const Ye=new Set([ce.type,oe.type]);class Qe{constructor(e,{isCaseSensitive:t=l.isCaseSensitive,ignoreDiacritics:n=l.ignoreDiacritics,includeMatches:r=l.includeMatches,minMatchCharLength:i=l.minMatchCharLength,ignoreLocation:u=l.ignoreLocation,findAllMatches:c=l.findAllMatches,location:o=l.location,threshold:a=l.threshold,distance:h=l.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:c,ignoreLocation:u,location:o,threshold:a,distance:h},e=t?e:e.toLowerCase(),e=n?R(e):e,this.pattern=e,this.query=Ve(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?R(e):e;let u=0,c=[],o=0;for(let a=0,h=t.length;a<h;a+=1){const f=t[a];c.length=0,u=0;for(let d=0,g=f.length;d<g;d+=1){const p=f[d],{isMatch:A,indices:C,score:_}=p.search(e);if(A){if(u+=1,o+=_,n){const M=p.constructor.type;Ye.has(M)?c=[...c,...C]:c.push(C)}}else{o=0,u=0,c.length=0;break}}if(u){let d={isMatch:!0,score:o/u};return n&&(d.indices=c),d}}return{isMatch:!1,score:1}}}const K=[];function Je(...s){K.push(...s)}function z(s,e){for(let t=0,n=K.length;t<n;t+=1){let r=K[t];if(r.condition(s,e))return new r(s,e)}return new ue(s,e)}const $={AND:"$and",OR:"$or"},G={PATH:"$path",PATTERN:"$val"},H=s=>!!(s[$.AND]||s[$.OR]),Ue=s=>!!s[G.PATH],Xe=s=>!F(s)&&se(s)&&!H(s),ee=s=>({[$.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function ae(s,e,{auto:t=!0}={}){const n=r=>{let i=Object.keys(r);const u=Ue(r);if(!u&&i.length>1&&!H(r))return n(ee(r));if(Xe(r)){const o=u?r[G.PATH]:i[0],a=u?r[G.PATTERN]:r[o];if(!D(a))throw new Error(Me(o));const h={keyId:P(o),pattern:a};return t&&(h.searcher=z(a,e)),h}let c={children:[],operator:i[0]};return i.forEach(o=>{const a=r[o];F(a)&&a.forEach(h=>{c.children.push(n(h))})}),c};return H(s)||(s=ee(s)),n(s)}function Ze(s,{ignoreFieldNorm:e=l.ignoreFieldNorm}){s.forEach(t=>{let n=1;t.matches.forEach(({key:r,norm:i,score:u})=>{const c=r?r.weight:null;n*=Math.pow(u===0&&c?Number.EPSILON:u,(c||1)*(e?1:i))}),t.score=n})}function qe(s,e){const t=s.matches;e.matches=[],m(t)&&t.forEach(n=>{if(!m(n.indices)||!n.indices.length)return;const{indices:r,value:i}=n;let u={indices:r,value:i};n.key&&(u.key=n.key.src),n.idx>-1&&(u.refIndex=n.idx),e.matches.push(u)})}function et(s,e){e.score=s.score}function tt(s,e,{includeMatches:t=l.includeMatches,includeScore:n=l.includeScore}={}){const r=[];return t&&r.push(qe),n&&r.push(et),s.map(i=>{const{idx:u}=i,c={item:e[u],refIndex:u};return r.length&&r.forEach(o=>{o(i,c)}),c})}class v{constructor(e,t={},n){this.options={...l,...t},this.options.useExtendedSearch,this._keyStore=new Se(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof V))throw new Error(De);this._myIndex=t||ie(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){m(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:u,ignoreFieldNorm:c}=this.options;let o=D(e)?D(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Ze(o,{ignoreFieldNorm:c}),i&&o.sort(u),te(t)&&t>-1&&(o=o.slice(0,t)),tt(o,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=z(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:i,i:u,n:c})=>{if(!m(i))return;const{isMatch:o,score:a,indices:h}=t.searchIn(i);o&&r.push({item:i,idx:u,matches:[{score:a,value:i,norm:c,indices:h}]})}),r}_searchLogical(e){const t=ae(e,this.options),n=(c,o,a)=>{if(!c.children){const{keyId:f,searcher:d}=c,g=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(o,f),searcher:d});return g&&g.length?[{idx:a,item:o,matches:g}]:[]}const h=[];for(let f=0,d=c.children.length;f<d;f+=1){const g=c.children[f],p=n(g,o,a);if(p.length)h.push(...p);else if(c.operator===$.AND)return[]}return h},r=this._myIndex.records,i={},u=[];return r.forEach(({$:c,i:o})=>{if(m(c)){let a=n(t,c,o);a.length&&(i[o]||(i[o]={idx:o,item:c,matches:[]},u.push(i[o])),a.forEach(({matches:h})=>{i[o].matches.push(...h)}))}}),u}_searchObjectList(e){const t=z(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:u,i:c})=>{if(!m(u))return;let o=[];n.forEach((a,h)=>{o.push(...this._findMatches({key:a,value:u[h],searcher:t}))}),o.length&&i.push({idx:c,item:u,matches:o})}),i}_findMatches({key:e,value:t,searcher:n}){if(!m(t))return[];let r=[];if(F(t))t.forEach(({v:i,i:u,n:c})=>{if(!m(i))return;const{isMatch:o,score:a,indices:h}=n.searchIn(i);o&&r.push({score:a,key:e,value:i,idx:u,norm:c,indices:h})});else{const{v:i,n:u}=t,{isMatch:c,score:o,indices:a}=n.searchIn(i);c&&r.push({score:o,key:e,value:i,norm:u,indices:a})}return r}}v.version="7.1.0";v.createIndex=ie;v.parseIndex=Oe;v.config=l;v.parseQuery=ae;Je(Qe);const st=Object.assign({"../blogs/theseus-importer.md":de,"../blogs/winkri-commerce.md":Ae}),Y=Object.entries(st).map(([s,e])=>{var i;const{attributes:t,html:n}=e;return{slug:((i=s.split("/").pop())==null?void 0:i.replace(".md",""))??"",title:(t==null?void 0:t.title)??"",shortDescription:(t==null?void 0:t.shortDescription)??"",date:(t==null?void 0:t.date)??"",headerImage:(t==null?void 0:t.headerImage)??"",content:n}}).sort((s,e)=>{const t=new Date(s.date).getTime();return new Date(e.date).getTime()-t});function it(){return Y}const nt={includeScore:!1,keys:["slug","title"]};new v(Y,nt);function ut(s){return Y.find(e=>e.slug===s)}export{ut as a,it as g};
